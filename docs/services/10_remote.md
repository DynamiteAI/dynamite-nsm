# Remote

> ⚠️`dynamite remote` and the [dynamite-remote](https://github.com/DynamiteAI/utilities/tree/master/dynamite-remote) utility 
> are currently in the early stages of development, this service may change slightly between minor releases.


Being able to manage multiple DynamiteNSM instances remotely is critical for large scale deployments.

The `remote` service allows users to install an *Authentication Package* created on the remote machine.
Once installed, the remote machine can invoke `dynamite` commands against nodes as if DynamiteNSM services were running
locally.

```bash
$ sudo dynamite remote -h
usage: dynamite [-h] {install,uninstall} ...

Dynamite Remote Manager @ 192.168.195.89

positional arguments:
  {install,uninstall}
    install            Install a remote manager authentication package.
    uninstall          Uninstall Dynamite Remote Node on this machine.

optional arguments:
  -h, --help           show this help message and exit

```

## Before you Begin

### Disambiguation

The `dynamite remote` command can be executed on any instance with `dynamite-nsm` installed. It is responsible for installing 
an authentication package generated by the separate, `dynamite-remote` utility.

The `dynamite-remote` utility is a self-contained program that allows administrators to create *Authentication packages* 
that once installed on remote instances allow remote management.

### Install the `dynamite-remote` Utility
On a computer you have designated as your manager you will need to install the `dynamite-remote` utility, which requires `ssh` binary be installed and in your `$PATH`.

```bash
pip install dynamite-remote
```

### Generate an Authentication Package

The `dynamite-remote` utility generates key-pairs then packages the public key along with some helpful
metadata into an archive that can be installed on any instance with both `openssh-server` and `dynamite-nsm` installed.

```bash
 dynamite-remote create --name agent-lab-lan --host agent.lab.local --description "Lab Environment Agent - Zeek and Suricata
```

Copy the `agent.lab.local.tar.gz` to your remote node using a tool such as `scp`.

## Authentication Package Installation

```bash
sudo dynamite remote install --archive agent.lab.local.tar.gz
```

## Remote Command Execution

On the manager you should now be able to run commands like the one below.

```bash
dynamite-remote execute nsm-es "agent -h"
```

> ⚠️Always encapsulate the `command` in quotes to prevent `dynamite-remote` from mis-interpreting commandline flags.
