
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>utilities.py - DynamiteNSM</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dynamite_nsm.utilities" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="DynamiteNSM" class="md-header__button md-logo" aria-label="DynamiteNSM" data-md-component="logo">
      
  <img src="../../../../data/img/logo_inverted.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DynamiteNSM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              utilities.py
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="DynamiteNSM" class="md-nav__button md-logo" aria-label="DynamiteNSM" data-md-component="logo">
      
  <img src="../../../../data/img/logo_inverted.png" alt="logo">

    </a>
    DynamiteNSM
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/01_project_goals/" class="md-nav__link">
        Project Goals
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/02_architecture/" class="md-nav__link">
        Architechture
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      <label class="md-nav__link" for="__nav_2_3">
        Event Data Model
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Event Data Model" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Event Data Model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/01_overview/" class="md-nav__link">
        Data Model Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3_2" type="checkbox" id="__nav_2_3_2" >
      
      <label class="md-nav__link" for="__nav_2_3_2">
        Sample Logs
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Sample Logs" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Sample Logs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/alert.eve.json/" class="md-nav__link">
        Suricata Alert
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/conn.log/" class="md-nav__link">
        Zeek Connection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/dhcp.log/" class="md-nav__link">
        Zeek DHCP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/dns.log/" class="md-nav__link">
        Zeek DNS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/files.log/" class="md-nav__link">
        Zeek Files
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/http.log/" class="md-nav__link">
        Zeek HTTP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/pe.log/" class="md-nav__link">
        Zeek Portable Executables
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/ssh.log/" class="md-nav__link">
        Zeek SSH
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/ssl.log/" class="md-nav__link">
        Zeek SSL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/weird.log/" class="md-nav__link">
        Zeek Weird
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/data_model/samples/x509.log/" class="md-nav__link">
        Zeek X509
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Requirements
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Requirements" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Requirements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../requirements/01_supported_operating_systems/" class="md-nav__link">
        Supported Operating Systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../requirements/02_agent_specifications/" class="md-nav__link">
        Agent Specifications
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../requirements/03_monitor_specifications/" class="md-nav__link">
        Monitor Specifications
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../requirements/04_span_vs_tap/" class="md-nav__link">
        SPAN vs TAP
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/01_overview/" class="md-nav__link">
        Installation Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      <label class="md-nav__link" for="__nav_4_2">
        Agent
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Agent" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Agent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/agent/01_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/agent/02_configure_inspection_interface/" class="md-nav__link">
        Preparing Inspection Interfaces
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/agent/03_install_same_instance/" class="md-nav__link">
        Install on the Same Instance
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/agent/04_install_separate_instances/" class="md-nav__link">
        Install across Separate Instances
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      <label class="md-nav__link" for="__nav_4_3">
        Monitor
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Monitor" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Monitor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/monitor/01_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/monitor/02_network_interface_configuration/" class="md-nav__link">
        Setup Management Interface
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/monitor/03_install_same_instance/" class="md-nav__link">
        Install on the Same Instance
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/monitor/04_install_separate_instances/" class="md-nav__link">
        Install across Separate Instances
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Configuration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/01_overview/" class="md-nav__link">
        Configuration Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      <label class="md-nav__link" for="__nav_5_2">
        Agent
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Agent" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Agent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/agent/01_connectors/" class="md-nav__link">
        Connectors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/agent/02_event_normalization/" class="md-nav__link">
        Event Normalization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/agent/03_scripts_and_rules/" class="md-nav__link">
        Scripts and Rules
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/agent/04_inspection_interfaces/" class="md-nav__link">
        Inspection Interfaces
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      <label class="md-nav__link" for="__nav_5_3">
        Monitor
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Monitor" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Monitor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/monitor/01_elasticsearch/" class="md-nav__link">
        Elasticsearch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../configuration/monitor/02_kibana/" class="md-nav__link">
        Kibana
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/00_setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/10_auth/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/01_updates/" class="md-nav__link">
        Updates
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/02_monitor/" class="md-nav__link">
        Monitor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/03_agent/" class="md-nav__link">
        Agent
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/04_elasticsearch/" class="md-nav__link">
        Elasticsearch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/05_logstash/" class="md-nav__link">
        Logstash
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/06_kibana/" class="md-nav__link">
        Kibana
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/04_kibana_package/" class="md-nav__link">
        Kibana Package Manager
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/07_zeek/" class="md-nav__link">
        Zeek
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/08_suricata/" class="md-nav__link">
        Suricata
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../services/09_filebeat/" class="md-nav__link">
        Filebeat
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_quick_start/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../03_dynamite_remote/" class="md-nav__link">
        Remote Management
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      <label class="md-nav__link" for="__nav_7_3">
        Navigating Kibana
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Navigating Kibana" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Navigating Kibana
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/01_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/02_alerts/" class="md-nav__link">
        Alert
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/03_conversations/" class="md-nav__link">
        Conversations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/04_hosts/" class="md-nav__link">
        Hosts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/05_protocols/" class="md-nav__link">
        Protocols
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_views/06_pivot_fields/" class="md-nav__link">
        Pivot Fields
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../02_using_kibana_package/" class="md-nav__link">
        Working with Kibana Package Manager
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
      
      <label class="md-nav__link" for="__nav_7_5">
        Software Developer Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Software Developer Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Software Developer Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../01_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../02_build_a_commandline_utility/" class="md-nav__link">
        Create a Commandline Utility
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../02_create_a_kibana_package/" class="md-nav__link">
        Create a Kibana Package
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4" type="checkbox" id="__nav_7_5_4" >
      
      <label class="md-nav__link" for="__nav_7_5_4">
        Software Development Kit
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Software Development Kit" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_5_4">
          <span class="md-nav__icon md-icon"></span>
          Software Development Kit
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../01_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_2" type="checkbox" id="__nav_7_5_4_2" >
      
      <label class="md-nav__link" for="__nav_7_5_4_2">
        cmd
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="cmd" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_5_4_2">
          <span class="md-nav__icon md-icon"></span>
          cmd
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/base_interface/" class="md-nav__link">
        base_interface
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/inspection_helpers/" class="md-nav__link">
        inspection_helpers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/config_object_interfaces/" class="md-nav__link">
        config_object_interfaces
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/service_interfaces/" class="md-nav__link">
        service_interfaces
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3" type="checkbox" id="__nav_7_5_4_3" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3">
        services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="services" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_5_4_3">
          <span class="md-nav__icon md-icon"></span>
          services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_1" type="checkbox" id="__nav_7_5_4_3_1" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_1">
        base
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="base" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_1_3" type="checkbox" id="__nav_7_5_4_3_1_3" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_1_3">
        config_objects
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="config_objects" data-md-level="6">
        <label class="md-nav__title" for="__nav_7_5_4_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          config_objects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/generic/" class="md-nav__link">
        generic.py
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_1_3_2" type="checkbox" id="__nav_7_5_4_3_1_3_2" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_1_3_2">
        filebeat
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="filebeat" data-md-level="7">
        <label class="md-nav__title" for="__nav_7_5_4_3_1_3_2">
          <span class="md-nav__icon md-icon"></span>
          filebeat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/filebeat/misc/" class="md-nav__link">
        misc.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/filebeat/targets/" class="md-nav__link">
        targets.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_1_3_3" type="checkbox" id="__nav_7_5_4_3_1_3_3" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_1_3_3">
        suricata
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="suricata" data-md-level="7">
        <label class="md-nav__title" for="__nav_7_5_4_3_1_3_3">
          <span class="md-nav__icon md-icon"></span>
          suricata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/suricata/misc/" class="md-nav__link">
        misc.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/suricata/rules/" class="md-nav__link">
        rules.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_1_3_4" type="checkbox" id="__nav_7_5_4_3_1_3_4" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_1_3_4">
        zeek
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="zeek" data-md-level="7">
        <label class="md-nav__title" for="__nav_7_5_4_3_1_3_4">
          <span class="md-nav__icon md-icon"></span>
          zeek
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/zeek/node/" class="md-nav__link">
        node.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/zeek/local_site/" class="md-nav__link">
        local_site.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/zeek/local_network/" class="md-nav__link">
        local_network.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/config_objects/zeek/bpf_filter/" class="md-nav__link">
        bpf_filter.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/logs/" class="md-nav__link">
        logs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_2" type="checkbox" id="__nav_7_5_4_3_2" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_2">
        monitor
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="monitor" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          monitor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/monitor/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/monitor/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_3" type="checkbox" id="__nav_7_5_4_3_3" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_3">
        agent
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="agent" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_3">
          <span class="md-nav__icon md-icon"></span>
          agent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/agent/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/agent/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_4" type="checkbox" id="__nav_7_5_4_3_4" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_4">
        filebeat
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="filebeat" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          filebeat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/filebeat/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/filebeat/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/filebeat/logs/" class="md-nav__link">
        logs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/filebeat/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/filebeat/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_5" type="checkbox" id="__nav_7_5_4_3_5" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_5">
        suricata
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="suricata" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_5">
          <span class="md-nav__icon md-icon"></span>
          suricata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/suricata/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/suricata/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/suricata/logs/" class="md-nav__link">
        logs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/suricata/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/suricata/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_6" type="checkbox" id="__nav_7_5_4_3_6" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_6">
        zeek
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="zeek" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_6">
          <span class="md-nav__icon md-icon"></span>
          zeek
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/zeek/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/zeek/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/zeek/logs/" class="md-nav__link">
        logs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/zeek/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/zeek/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_7" type="checkbox" id="__nav_7_5_4_3_7" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_7">
        elasticsearch
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="elasticsearch" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_7">
          <span class="md-nav__icon md-icon"></span>
          elasticsearch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/elasticsearch/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/elasticsearch/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/elasticsearch/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/elasticsearch/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_8" type="checkbox" id="__nav_7_5_4_3_8" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_8">
        logstash
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="logstash" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_8">
          <span class="md-nav__icon md-icon"></span>
          logstash
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/logstash/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/logstash/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/logstash/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/logstash/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5_4_3_9" type="checkbox" id="__nav_7_5_4_3_9" >
      
      <label class="md-nav__link" for="__nav_7_5_4_3_9">
        kibana
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="kibana" data-md-level="5">
        <label class="md-nav__title" for="__nav_7_5_4_3_9">
          <span class="md-nav__icon md-icon"></span>
          kibana
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/kibana/install/" class="md-nav__link">
        install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/kibana/config/" class="md-nav__link">
        config
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/kibana/process/" class="md-nav__link">
        process
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../services/kibana/profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../resources/contributing_guide/" class="md-nav__link">
        Contributing Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../../resources/coding_guidelines/" class="md-nav__link">
        Coding Guidelines
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities" class="md-nav__link">
    dynamite_nsm.utilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.backup_configuration_file" class="md-nav__link">
    backup_configuration_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.check_pid" class="md-nav__link">
    check_pid()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.check_socket" class="md-nav__link">
    check_socket()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.check_user_exists" class="md-nav__link">
    check_user_exists()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.copytree" class="md-nav__link">
    copytree()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.create_dynamite_environment_file" class="md-nav__link">
    create_dynamite_environment_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.create_dynamite_remote_user" class="md-nav__link">
    create_dynamite_remote_user()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.create_dynamite_user" class="md-nav__link">
    create_dynamite_user()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.create_jupyter_user" class="md-nav__link">
    create_jupyter_user()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.delete_dynamite_remote_user" class="md-nav__link">
    delete_dynamite_remote_user()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.download_file" class="md-nav__link">
    download_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.extract_archive" class="md-nav__link">
    extract_archive()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.generate_random_password" class="md-nav__link">
    generate_random_password()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_cpu_core_count" class="md-nav__link">
    get_cpu_core_count()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_default_agent_tag" class="md-nav__link">
    get_default_agent_tag()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_default_es_node_name" class="md-nav__link">
    get_default_es_node_name()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_environment_file_dict" class="md-nav__link">
    get_environment_file_dict()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_environment_file_str" class="md-nav__link">
    get_environment_file_str()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_epoch_time_seconds" class="md-nav__link">
    get_epoch_time_seconds()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_file_md5_hash" class="md-nav__link">
    get_file_md5_hash()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_filepath_md5_hash" class="md-nav__link">
    get_filepath_md5_hash()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_memory_available_bytes" class="md-nav__link">
    get_memory_available_bytes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_network_addresses" class="md-nav__link">
    get_network_addresses()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_network_interface_configurations" class="md-nav__link">
    get_network_interface_configurations()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_network_interface_names" class="md-nav__link">
    get_network_interface_names()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_primary_ip_address" class="md-nav__link">
    get_primary_ip_address()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_sshd_directory_path" class="md-nav__link">
    get_sshd_directory_path()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_sudoers_directory_path" class="md-nav__link">
    get_sudoers_directory_path()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.get_terminal_size" class="md-nav__link">
    get_terminal_size()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.is_dynamite_member" class="md-nav__link">
    is_dynamite_member()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.is_root" class="md-nav__link">
    is_root()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.is_setup" class="md-nav__link">
    is_setup()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.list_backup_configurations" class="md-nav__link">
    list_backup_configurations()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.makedirs" class="md-nav__link">
    makedirs()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.print_coffee_art" class="md-nav__link">
    print_coffee_art()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.print_dynamite_lab_art" class="md-nav__link">
    print_dynamite_lab_art()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.print_dynamite_logo" class="md-nav__link">
    print_dynamite_logo()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.prompt_input" class="md-nav__link">
    prompt_input()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.prompt_password" class="md-nav__link">
    prompt_password()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.restore_backup_configuration" class="md-nav__link">
    restore_backup_configuration()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.run_subprocess_with_status" class="md-nav__link">
    run_subprocess_with_status()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.safely_remove_file" class="md-nav__link">
    safely_remove_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.set_ownership_of_file" class="md-nav__link">
    set_ownership_of_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.set_permissions_of_file" class="md-nav__link">
    set_permissions_of_file()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.test_bpf_filter" class="md-nav__link">
    test_bpf_filter()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.update_sysctl" class="md-nav__link">
    update_sysctl()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.update_user_file_handle_limits" class="md-nav__link">
    update_user_file_handle_limits()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamite_nsm.utilities.wrap_text" class="md-nav__link">
    wrap_text()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>utilities.py</h1>
                
                <p>General purpose utility methods used by a variety of services.</p>
<p><strong><em>To import...</em></strong></p>
<pre><code class="language-python3">from dynamite_nsm import utilities
</code></pre>


  <div class="doc doc-object doc-module">

<a id="dynamite_nsm.utilities"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.backup_configuration_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">backup_configuration_file</span><span class="p">(</span><span class="n">source_file</span><span class="p">,</span> <span class="n">configuration_backup_directory</span><span class="p">,</span> <span class="n">destination_file_prefix</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Backup a configuration file</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source_file</code></td>
        <td><code>str</code></td>
        <td><p>The configuration file you wish to backup</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>configuration_backup_directory</code></td>
        <td><code>str</code></td>
        <td><p>The destination configuration directory</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>destination_file_prefix</code></td>
        <td><code>str</code></td>
        <td><p>The prefix of the file; timestamp is automatically appended in filename</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">backup_configuration_file</span><span class="p">(</span><span class="n">source_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">configuration_backup_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                              <span class="n">destination_file_prefix</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Backup a configuration file</span>
<span class="sd">    Args:</span>
<span class="sd">        source_file: The configuration file you wish to backup</span>
<span class="sd">        configuration_backup_directory: The destination configuration directory</span>
<span class="sd">        destination_file_prefix: The prefix of the file; timestamp is automatically appended in filename</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
    <span class="n">destination_backup_config_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">,</span>
                                                  <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">destination_file_prefix</span><span class="p">,</span>
                                                                 <span class="n">timestamp</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">makedirs</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">set_ownership_of_file</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">WriteConfigError</span><span class="p">(</span>
            <span class="s2">&quot;General error while attempting to create backup directory at </span><span class="si">{}</span><span class="s2">; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">,</span>
                                                                                         <span class="n">e</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">source_file</span><span class="p">,</span> <span class="n">destination_backup_config_file</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">WriteConfigError</span><span class="p">(</span>
            <span class="s2">&quot;General error while attempting to copy </span><span class="si">{}</span><span class="s2"> to </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">source_file</span><span class="p">,</span> <span class="n">destination_backup_config_file</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.check_pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_pid</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>:return: True, if the process is running</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_pid</span><span class="p">(</span><span class="n">pid</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;:return: True, if the process is running</span>
<span class="sd">    Args:</span>
<span class="sd">        The process id</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">pid</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.check_socket" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_socket</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Check if a host is listening on a given port</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>host</code></td>
        <td><code>str</code></td>
        <td><p>The host the service is listening on</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>int</code></td>
        <td><p>The port the service is listening on</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True, if a service is listening on a given HOST:PORT</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_socket</span><span class="p">(</span><span class="n">host</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if a host is listening on a given port</span>
<span class="sd">    Args:</span>
<span class="sd">        host: The host the service is listening on</span>
<span class="sd">        port: The port the service is listening on</span>
<span class="sd">    Returns:</span>
<span class="sd">         True, if a service is listening on a given HOST:PORT</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">port</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">closing</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">))</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.check_user_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_user_exists</span><span class="p">(</span><span class="n">username</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Check of a UNIX user exists</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>username</code></td>
        <td><code>str</code></td>
        <td><p>The username of the user to check</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>: True if the user exists</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_user_exists</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check of a UNIX user exists</span>
<span class="sd">    Args:</span>
<span class="sd">        username: The username of the user to check</span>
<span class="sd">    Returns:</span>
<span class="sd">        : True if the user exists</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pwd</span><span class="o">.</span><span class="n">getpwnam</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.copytree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copytree</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Copy a src file or directory to a destination file or directory</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>str</code></td>
        <td><p>The source directory</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>str</code></td>
        <td><p>The destination directory</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>symlinks</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If True, symlinks will be followed (Default value = False)</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>ignore</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If True, errors will be ignored</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copytree</span><span class="p">(</span><span class="n">src</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">symlinks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ignore</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Copy a src file or directory to a destination file or directory</span>
<span class="sd">    Args:</span>
<span class="sd">        src: The source directory</span>
<span class="sd">        dst: The destination directory</span>
<span class="sd">        symlinks: If True, symlinks will be followed (Default value = False)</span>
<span class="sd">        ignore: If True, errors will be ignored</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">symlinks</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="c1"># File exists or handle locked</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.create_dynamite_environment_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_dynamite_environment_file</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Creates the dynamite environment file accessible only to the root user.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_dynamite_environment_file</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Creates the dynamite environment file accessible only to the root user.</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">makedirs</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONFIG_PATH</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">env_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONFIG_PATH</span><span class="p">,</span> <span class="s1">&#39;environment&#39;</span><span class="p">)</span>
    <span class="n">env_file_f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">env_file</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
    <span class="n">env_file_f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">env_file_f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">set_ownership_of_file</span><span class="p">(</span><span class="n">env_file</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;dynamite&#39;</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;dynamite&#39;</span><span class="p">)</span>
    <span class="n">set_permissions_of_file</span><span class="p">(</span><span class="n">env_file</span><span class="p">,</span> <span class="mi">770</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.create_dynamite_remote_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_dynamite_remote_user</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Create the dynamite-remote user and group</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_dynamite_remote_user</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create the dynamite-remote user and group</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">salt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span>
    <span class="n">pass_encry</span> <span class="o">=</span> <span class="n">crypt</span><span class="o">.</span><span class="n">crypt</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;useradd -r -p &quot;</span><span class="si">{}</span><span class="s1">&quot; -s /bin/bash dynamite-remote&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pass_encry</span><span class="p">),</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.create_dynamite_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_dynamite_user</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Create the dynamite user and group</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_dynamite_user</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create the dynamite user and group</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">salt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span>
    <span class="n">pass_encry</span> <span class="o">=</span> <span class="n">crypt</span><span class="o">.</span><span class="n">crypt</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;useradd -r -p &quot;</span><span class="si">{}</span><span class="s1">&quot; -s /bin/bash dynamite&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pass_encry</span><span class="p">),</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.create_jupyter_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_jupyter_user</span><span class="p">(</span><span class="n">password</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Create the jupyter user w/ home</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>password</code></td>
        <td><code>str</code></td>
        <td><p>The password for the user</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_jupyter_user</span><span class="p">(</span><span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create the jupyter user w/ home</span>
<span class="sd">    Args:</span>
<span class="sd">        password: The password for the user</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pass_encry</span> <span class="o">=</span> <span class="n">crypt</span><span class="o">.</span><span class="n">crypt</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">99</span><span class="p">)))</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;useradd -r -m -p &quot;</span><span class="si">{}</span><span class="s1">&quot; -s /bin/bash jupyter&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pass_encry</span><span class="p">),</span>
                    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.delete_dynamite_remote_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_dynamite_remote_user</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Remove the dynamite-remote user</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_dynamite_remote_user</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Remove the dynamite-remote user</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;userdel&#39;</span><span class="p">,</span> <span class="s1">&#39;dynamite-remote&#39;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.download_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Given a URL and destination file name, download the file to local install_cache</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The url to the file to download</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filename</code></td>
        <td><code>str</code></td>
        <td><p>The name of the file to write to disk</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stdout</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Print the output to the console</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>      <p>Returns: True, if successfully downloaded.</p>

        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stdout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a URL and destination file name, download the file to local install_cache</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The url to the file to download</span>
<span class="sd">        filename: The name of the file to write to disk</span>
<span class="sd">        stdout: Print the output to the console</span>

<span class="sd">    Returns: True, if successfully downloaded.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">CHUNK</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="mi">1024</span>

    <span class="n">makedirs</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">INSTALL_CACHE</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response_size_bytes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Length&#39;</span><span class="p">])</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
        <span class="n">response_size_bytes</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">widgets</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[92m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)),</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0;36m&#39;</span>
        <span class="s1">&#39;DOWNLOAD_MANAGER &#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;                    | &#39;</span><span class="p">,</span>
        <span class="n">progressbar</span><span class="o">.</span><span class="n">FileTransferSpeed</span><span class="p">(),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">filename</span><span class="p">),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">ETA</span><span class="p">(),</span>

    <span class="p">]</span>
    <span class="n">pb</span> <span class="o">=</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">ProgressBar</span><span class="p">(</span><span class="n">widgets</span><span class="o">=</span><span class="n">widgets</span><span class="p">,</span> <span class="n">maxval</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">response_size_bytes</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">stdout</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pb</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># Something broke, disable stdout going forward</span>
            <span class="n">stdout</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">INSTALL_CACHE</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">chunk_num</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">chunk</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">CHUNK</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">chunk</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">stdout</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">pb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">CHUNK</span> <span class="o">*</span> <span class="n">chunk_num</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="k">pass</span>
                <span class="n">chunk_num</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">stdout</span><span class="p">:</span>
                <span class="n">pb</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">URLError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.extract_archive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_archive</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Extract a tar.gz archive to a given destination path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>archive_path</code></td>
        <td><code>str</code></td>
        <td><p>The full path to the tar.gz archive file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>destination_path</code></td>
        <td><code>str</code></td>
        <td><p>The path where the archive will be extracted</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_archive</span><span class="p">(</span><span class="n">archive_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Extract a tar.gz archive to a given destination path.</span>
<span class="sd">    Args:</span>
<span class="sd">        archive_path: The full path to the tar.gz archive file</span>
<span class="sd">        destination_path: The path where the archive will be extracted</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">tf</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
        <span class="n">tf</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">destination_path</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.generate_random_password" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_random_password</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Generate a random password containing alphanumeric and symbolic characters</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>length</code></td>
        <td><code>int</code></td>
        <td><p>The length of the password</p></td>
        <td><code>30</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The string representation of the password</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_random_password</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate a random password containing alphanumeric and symbolic characters</span>
<span class="sd">    Args:</span>
<span class="sd">        length: The length of the password</span>
<span class="sd">    Returns:</span>
<span class="sd">         The string representation of the password</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_uppercase</span> <span class="o">+</span> <span class="s1">&#39;0123456789&#39;</span> <span class="o">+</span> <span class="s1">&#39;!@#$%^&amp;*()_+&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_cpu_core_count" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cpu_core_count</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the number of availble CPU cores</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The count of CPU cores available on the system</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cpu_core_count</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the number of availble CPU cores</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         The count of CPU cores available on the system</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_default_agent_tag" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_agent_tag</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the agent tag</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The agent tag</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_agent_tag</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the agent tag</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        The agent tag</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()][</span><span class="mi">0</span><span class="p">:</span><span class="mi">25</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;_agt&#39;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_default_es_node_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_es_node_name</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>:return: The node name</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The node name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_es_node_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;:return: The node name</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        The node name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()][</span><span class="mi">0</span><span class="p">:</span><span class="mi">25</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;_es_node&#39;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_environment_file_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_environment_file_dict</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the contents of the dynamite environment file as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict</code></td>
      <td><p>The contents of the /etc/dynamite/environment file as a dictionary</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_environment_file_dict</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the contents of the dynamite environment file as a dictionary.</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         The contents of the /etc/dynamite/environment file as a dictionary</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">export_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONFIG_PATH</span><span class="p">,</span> <span class="s1">&#39;environment&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
                <span class="n">export_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">except</span> <span class="ne">PermissionError</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">export_dict</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_environment_file_str" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_environment_file_str</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the contents of the dynamite environment file as a string.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The contents of the /etc/dynamite/environment file as a giant export string</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_environment_file_str</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the contents of the dynamite environment file as a string.</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         The contents of the /etc/dynamite/environment file as a giant export string</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">export_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONFIG_PATH</span><span class="p">,</span> <span class="s1">&#39;environment&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">env_f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">env_f</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
                <span class="n">export_str</span> <span class="o">+=</span> <span class="s1">&#39;export </span><span class="si">{}</span><span class="s1">=</span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1"> &amp;&amp; &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">export_str</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_epoch_time_seconds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_epoch_time_seconds</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the number of seconds since 01/01/1970</p>
<p>Returns: An integer representing the number of seconds between 01/01/1970 and now.</p>

        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_epoch_time_seconds</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the number of seconds since 01/01/1970</span>

<span class="sd">    Returns: An integer representing the number of seconds between 01/01/1970 and now.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_file_md5_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_file_md5_hash</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Given a file-like object return the md5 hash of that object</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fh</code></td>
        <td><code>Union[BinaryIO, TextIO]</code></td>
        <td><p>file handle (file like object)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>the md5 hash of the file</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_file_md5_hash</span><span class="p">(</span><span class="n">fh</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BinaryIO</span><span class="p">,</span> <span class="n">TextIO</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Given a file-like object return the md5 hash of that object</span>
<span class="sd">    Args:</span>
<span class="sd">        fh: file handle (file like object)</span>
<span class="sd">    Returns:</span>
<span class="sd">         the md5 hash of the file</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">block_size</span> <span class="o">=</span> <span class="mi">65536</span>
    <span class="n">md5_hasher</span> <span class="o">=</span> <span class="n">md5</span><span class="p">()</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">block_size</span><span class="p">)</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">md5_hasher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">fh</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">block_size</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">md5_hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_filepath_md5_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_filepath_md5_hash</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Given a file-path to return the md5 hash of that file</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>path to the file being hashed</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>the md5 hash of a file</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_filepath_md5_hash</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Given a file-path to return the md5 hash of that file</span>
<span class="sd">    Args:</span>
<span class="sd">        file_path: path to the file being hashed</span>
<span class="sd">    Returns:</span>
<span class="sd">         the md5 hash of a file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_file_md5_hash</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_memory_available_bytes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_memory_available_bytes</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the amount of RAM (in bytes) of the current system</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The number of bytes available in memory</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_memory_available_bytes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the amount of RAM (in bytes) of the current system</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         The number of bytes available in memory</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">sysconf</span><span class="p">(</span><span class="s1">&#39;SC_PAGE_SIZE&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">os</span><span class="o">.</span><span class="n">sysconf</span><span class="p">(</span><span class="s1">&#39;SC_PHYS_PAGES&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_network_addresses" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_network_addresses</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a list of valid IP addresses for the host</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple</code></td>
      <td><p>A tuple containing an internal, and external IP address</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_network_addresses</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of valid IP addresses for the host</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         A tuple containing an internal, and external IP address</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_addresses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">internal_address</span><span class="p">,</span> <span class="n">external_address</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">site</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">urlopen</span><span class="p">(</span><span class="s2">&quot;http://checkip.dyndns.org/&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="n">grab</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+)&#39;</span><span class="p">,</span> <span class="n">site</span><span class="p">)</span>
        <span class="n">external_address</span> <span class="o">=</span> <span class="n">grab</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">URLError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">,</span> <span class="n">HTTPError</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="n">internal_address</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">internal_address</span><span class="p">:</span>
        <span class="n">valid_addresses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">internal_address</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">external_address</span><span class="p">:</span>
        <span class="n">valid_addresses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">external_address</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">valid_addresses</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_network_interface_configurations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_network_interface_configurations</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a list of network interfaces available on the system</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Dict]</code></td>
      <td><p>A list of network interfaces</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_network_interface_configurations</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of network interfaces available on the system</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         A list of network interfaces</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">addresses</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">net_if_addrs</span><span class="p">()</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">net_if_stats</span><span class="p">()</span>

    <span class="n">available_networks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">intface</span><span class="p">,</span> <span class="n">addr_list</span> <span class="ow">in</span> <span class="n">addresses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;lo&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;docker&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;veth&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;br-&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stats</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">intface</span>
        <span class="n">speed</span> <span class="o">=</span> <span class="n">stats</span><span class="p">[</span><span class="n">intface</span><span class="p">]</span><span class="o">.</span><span class="n">speed</span>
        <span class="n">duplex</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">stats</span><span class="p">[</span><span class="n">intface</span><span class="p">]</span><span class="o">.</span><span class="n">duplex</span><span class="p">)</span>
        <span class="n">mtu</span> <span class="o">=</span> <span class="n">stats</span><span class="p">[</span><span class="n">intface</span><span class="p">]</span><span class="o">.</span><span class="n">mtu</span>
        <span class="n">available_networks</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="n">speed</span><span class="p">,</span>
            <span class="s1">&#39;duplex&#39;</span><span class="p">:</span> <span class="n">duplex</span><span class="p">,</span>
            <span class="s1">&#39;mtu&#39;</span><span class="p">:</span> <span class="n">mtu</span>
        <span class="p">})</span>
    <span class="k">return</span> <span class="n">available_networks</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_network_interface_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_network_interface_names</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns a list of network interfaces available on the system</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of network interfaces</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_network_interface_names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of network interfaces available on the system</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         A list of network interfaces</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">addresses</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">net_if_addrs</span><span class="p">()</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">net_if_stats</span><span class="p">()</span>

    <span class="n">available_networks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">intface</span><span class="p">,</span> <span class="n">addr_list</span> <span class="ow">in</span> <span class="n">addresses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;lo&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;docker&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;veth&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;br-&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">intface</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stats</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">available_networks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intface</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">available_networks</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_primary_ip_address" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_primary_ip_address</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the IP address for the default route out.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The IP address of the primary (default route) interface</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_primary_ip_address</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the IP address for the default route out.</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        The IP address of the primary (default route) interface</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_DGRAM</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># doesn&#39;t even have to be reachable</span>
        <span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="s1">&#39;10.255.255.255&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">IP</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">IP</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">IP</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_sshd_directory_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sshd_directory_path</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Gets the path of the Include directory in the sshd_config</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code></code></td>
      <td><p>The path to the sshd_config.d/</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_sshd_directory_path</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Gets the path of the Include directory in the sshd_config</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path to the sshd_config.d/</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include_directory</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">SSH_CONF_FILE</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sudoers_in</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sudoers_in</span><span class="o">.</span><span class="n">readlines</span><span class="p">()):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;Include&#39;</span><span class="p">):</span>
                <span class="n">include_directory</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="k">break</span>
    <span class="n">include_directory</span> <span class="o">=</span> <span class="n">include_directory</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;*.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">include_directory</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_sudoers_directory_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sudoers_directory_path</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Get the path to the #includedir directory</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code></code></td>
      <td><p>The path to sudoers.d/</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_sudoers_directory_path</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Get the path to the #includedir directory</span>
<span class="sd">    Returns:</span>
<span class="sd">        The path to sudoers.d/</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include_directory</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">SUDOERS_FILE</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sudoers_in</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sudoers_in</span><span class="o">.</span><span class="n">readlines</span><span class="p">()):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#includedir&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;@includedir&#39;</span><span class="p">):</span>
                <span class="n">include_directory</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">include_directory</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.get_terminal_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_terminal_size</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Returns the width and height of the current terminal</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Tuple[int, int]]</code></td>
      <td><p>(width, height) of the current terminal</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_terminal_size</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Returns the width and height of the current terminal</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         (width, height) of the current terminal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">hp</span><span class="p">,</span> <span class="n">wp</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;HHHH&#39;</span><span class="p">,</span>
                                     <span class="n">fcntl</span><span class="o">.</span><span class="n">ioctl</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">termios</span><span class="o">.</span><span class="n">TIOCGWINSZ</span><span class="p">,</span>
                                                 <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;HHHH&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.is_dynamite_member" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_dynamite_member</span><span class="p">(</span><span class="n">user</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Check if a user is a member of the dynamite group</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>str</code></td>
        <td><p>A username</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True, if the user is a member of the dynamite group</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_dynamite_member</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if a user is a member of the dynamite group</span>
<span class="sd">    Args:</span>
<span class="sd">        user: A username</span>

<span class="sd">    Returns:</span>
<span class="sd">        True, if the user is a member of the dynamite group</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">grp</span><span class="o">.</span><span class="n">getgrnam</span><span class="p">(</span><span class="s1">&#39;dynamite&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">group</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.is_root" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_root</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Determine whether or not the current user is root</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True, if the user is root</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_root</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Determine whether or not the current user is root</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">         True, if the user is root</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.is_setup" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_setup</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Check if DynamiteNSM has required directories created.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if setup properly</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_setup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if DynamiteNSM has required directories created.</span>
<span class="sd">    Returns:</span>
<span class="sd">        True if setup properly</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">CONFIG_PATH</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">INSTALL_PATH</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">LOG_PATH</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.list_backup_configurations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_backup_configurations</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>List available backup files in the configuration_backup_directory</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>configuration_backup_directory</code></td>
        <td><code>str</code></td>
        <td><p>The destination configuration directory backup directory</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Dict]</code></td>
      <td><p>A list of dictionaries, where each dictionary contains a filename representing the name of the backup and a UNIX timestamp.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_backup_configurations</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;List available backup files in the configuration_backup_directory</span>
<span class="sd">    Args:</span>
<span class="sd">        configuration_backup_directory: The destination configuration directory backup directory</span>
<span class="sd">    Returns:</span>
<span class="sd">        A list of dictionaries, where each dictionary contains a filename representing the name of the backup and a UNIX timestamp.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">backups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">digits_only_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;^([\s\d]+)$&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">conf</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">):</span>
            <span class="n">timestampstr</span> <span class="o">=</span> <span class="n">conf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">digits_only_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">timestampstr</span><span class="p">):</span>
                <span class="n">confpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">,</span> <span class="n">conf</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">confpath</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">subconf</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">confpath</span><span class="p">):</span>
                        <span class="n">timestampstr</span> <span class="o">=</span> <span class="n">subconf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">digits_only_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">timestampstr</span><span class="p">):</span>
                            <span class="n">backups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                                <span class="p">{</span>
                                    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">subconf</span><span class="p">,</span>
                                    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">confpath</span><span class="p">,</span> <span class="n">subconf</span><span class="p">),</span>
                                    <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">timestampstr</span><span class="p">)</span>
                                <span class="p">}</span>
                            <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># file is not a dir, and does not match expected format with timestamp. skip it.</span>
                    <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">backups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">conf</span><span class="p">,</span>
                        <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">configuration_backup_directory</span><span class="p">,</span> <span class="n">conf</span><span class="p">),</span>
                        <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">timestampstr</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">backups</span>
    <span class="n">backups</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">backups</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.makedirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Create directory(ies) at a given path</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the directories</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exist_ok</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If it exists, create anyway (Default value = True)</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">exist_ok</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Create directory(ies) at a given path</span>
<span class="sd">    Args:</span>
<span class="sd">        path: The path to the directories</span>
<span class="sd">        exist_ok: If it exists, create anyway (Default value = True)</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">exist_ok</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.print_coffee_art" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_coffee_art</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Print the dynamite logo!</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">print_coffee_art</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print the dynamite logo!</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">coffee_icon</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        </span>
<span class="sd">        </span>
<span class="sd">        </span>
<span class="sd">        </span>
<span class="sd">              ~~~ &quot;Have a cup of coffee while you wait.&quot; ~~~</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">coffee_icon</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">SyntaxError</span><span class="p">,</span> <span class="ne">UnicodeEncodeError</span><span class="p">):</span>
        <span class="c1"># Your operating system is super lame :(</span>
        <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.print_dynamite_lab_art" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_dynamite_lab_art</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Print the dynamite lab ascii art</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">print_dynamite_lab_art</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print the dynamite lab ascii art</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">lab_art</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            \033[0;36m</span>
<span class="sd">               _</span>
<span class="sd">              | | DynamiteLab         |</span>
<span class="sd">              / \  is an experimental |</span>
<span class="sd">             /   \  feature.          |</span>
<span class="sd">            (_____)  Happy Hacking!   |    ~The Dynamite Team~</span>
<span class="sd">            \033[0m</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">lab_art</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">SyntaxError</span><span class="p">,</span> <span class="ne">UnicodeEncodeError</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.print_dynamite_logo" class="doc doc-heading">
<code class="highlight language-python"><span class="n">print_dynamite_logo</span><span class="p">(</span><span class="n">version</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Print the dynamite logo!</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">print_dynamite_logo</span><span class="p">(</span><span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print the dynamite logo!</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">dynamite_logo</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            \033[0;36m</span>

<span class="sd">                  ,,,,,                  ,</span>
<span class="sd">              .            </span>
<span class="sd">             #          </span>
<span class="sd">                &quot; ,,</span>
<span class="sd">                 ^&quot;^^`</span>
<span class="sd">                 ]           ^</span>
<span class="sd">                . ,,</span>
<span class="sd">            &#39;#        `,        ,,</span>
<span class="sd">              &quot;  ,            &#39;&quot;#</span>
<span class="sd">                 &quot;,                        ^</span>
<span class="sd">                              ,,                &quot;</span>
<span class="sd">               ]              &#39;</span>
<span class="sd">                           &gt;</span>
<span class="sd">                       </span>
<span class="sd">              </span>
<span class="sd">               </span>
<span class="sd">                </span>
<span class="sd">                     </span>
<span class="sd">                           </span>
<span class="sd">            \033[0m</span>
<span class="sd">            http://dynamite.ai</span>

<span class="sd">            Version: {}</span>

<span class="sd">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">dynamite_logo</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">SyntaxError</span><span class="p">,</span> <span class="ne">UnicodeEncodeError</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;http://dynamite.ai</span><span class="se">\n\n</span><span class="s1">Version: </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.prompt_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prompt_input</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">valid_responses</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Taking in input</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>message</code></td>
        <td><code>str</code></td>
        <td><p>The message appearing next to the input prompt.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>valid_responses</code></td>
        <td><code>Optional[List]</code></td>
        <td><p>A list of expected responses</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The inputted text</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prompt_input</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">valid_responses</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Taking in input</span>
<span class="sd">    Args:</span>
<span class="sd">        message: The message appearing next to the input prompt.</span>
<span class="sd">        valid_responses: A list of expected responses</span>
<span class="sd">    Returns:</span>
<span class="sd">         The inputted text</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">res</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">valid_responses</span><span class="p">:</span>
        <span class="k">while</span> <span class="nb">str</span><span class="p">(</span><span class="n">res</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">valid_responses</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Please enter a valid value: </span><span class="si">{</span><span class="n">valid_responses</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.prompt_password" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prompt_password</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="s1">&#39;[?] Enter a secure password: &#39;</span><span class="p">,</span> <span class="n">confirm_prompt</span><span class="o">=</span><span class="s1">&#39;[?] Confirm Password: &#39;</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Prompt user for password, and confirm</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>prompt</code></td>
        <td><code></code></td>
        <td><p>The first password prompt</p></td>
        <td><code>&#39;[?] Enter a secure password: &#39;</code></td>
      </tr>
      <tr>
        <td><code>confirm_prompt</code></td>
        <td><code></code></td>
        <td><p>The confirmation prompt</p></td>
        <td><code>&#39;[?] Confirm Password: &#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The password entered</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prompt_password</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="s1">&#39;[?] Enter a secure password: &#39;</span><span class="p">,</span> <span class="n">confirm_prompt</span><span class="o">=</span><span class="s1">&#39;[?] Confirm Password: &#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Prompt user for password, and confirm</span>
<span class="sd">    Args:</span>
<span class="sd">        prompt: The first password prompt</span>
<span class="sd">        confirm_prompt: The confirmation prompt</span>
<span class="sd">    Returns:</span>
<span class="sd">         The password entered</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
    <span class="n">confirm_password</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
    <span class="n">first_attempt</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">valid</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">while</span> <span class="n">password</span> <span class="o">!=</span> <span class="n">confirm_password</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">6</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">valid</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">first_attempt</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;[-] Passwords either did not match or were less than 6 characters. Please try again.</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="k">elif</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">in</span> <span class="n">password</span> <span class="ow">or</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">in</span> <span class="n">password</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;[-] Passwords cannot contain quote characters. Please try again.</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="n">confirm_password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="n">confirm_prompt</span><span class="p">)</span>
        <span class="n">first_attempt</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">password</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.restore_backup_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">restore_backup_configuration</span><span class="p">(</span><span class="n">configuration_backup_filepath</span><span class="p">,</span> <span class="n">config_filepath</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Restore a backup file to a configuration folder of choice</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>configuration_backup_filepath</code></td>
        <td><code>str</code></td>
        <td><p>The full path to the backup file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config_filepath</code></td>
        <td><code>str</code></td>
        <td><p>The full path to the to-be-restored configuration file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True, if successful</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">restore_backup_configuration</span><span class="p">(</span><span class="n">configuration_backup_filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config_filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Restore a backup file to a configuration folder of choice</span>
<span class="sd">    Args:</span>
<span class="sd">        configuration_backup_filepath: The full path to the backup file</span>
<span class="sd">        config_filepath: The full path to the to-be-restored configuration file</span>
<span class="sd">    Returns:</span>
<span class="sd">        True, if successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">configuration_backup_filepath</span><span class="p">,</span> <span class="n">config_filepath</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">shutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.run_subprocess_with_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_subprocess_with_status</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">expected_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Run a subprocess inside a wrapper, that hides the output, and replaces with a progressbar</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>process</code></td>
        <td><code>Popen</code></td>
        <td><p>The subprocess.Popen instance</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expected_lines</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>The number of stdout lines to expect</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The exit code.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_subprocess_with_status</span><span class="p">(</span><span class="n">process</span><span class="p">:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">,</span> <span class="n">expected_lines</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Run a subprocess inside a wrapper, that hides the output, and replaces with a progressbar</span>
<span class="sd">    Args:</span>
<span class="sd">        process: The subprocess.Popen instance</span>
<span class="sd">        expected_lines: The number of stdout lines to expect</span>
<span class="sd">    Returns:</span>
<span class="sd">         The exit code.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">widgets</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[92m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)),</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0;36m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PROCESS_TRACKER &#39;</span><span class="p">,</span>
        <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span><span class="p">,</span>
        <span class="s1">&#39;           | &#39;</span><span class="p">,</span>
        <span class="n">progressbar</span><span class="o">.</span><span class="n">Percentage</span><span class="p">(),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">Bar</span><span class="p">(),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">FormatLabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
        <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">ETA</span><span class="p">()</span>
    <span class="p">]</span>
    <span class="n">over_max_value</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pb</span> <span class="o">=</span> <span class="n">progressbar</span><span class="o">.</span><span class="n">ProgressBar</span><span class="p">(</span><span class="n">widgets</span><span class="o">=</span><span class="n">widgets</span><span class="p">,</span> <span class="n">maxval</span><span class="o">=</span><span class="n">expected_lines</span><span class="p">)</span>
    <span class="n">pb</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">output</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">process</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">over_max_value</span><span class="p">:</span>
                    <span class="n">widgets</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&lt;</span><span class="si">{0}</span><span class="s1">...&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">40</span><span class="p">])</span>
                    <span class="n">pb</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">over_max_value</span><span class="p">:</span>
                    <span class="n">pb</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
                    <span class="n">over_max_value</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># print(i, process.poll(), output)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">over_max_value</span><span class="p">:</span>
        <span class="n">pb</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">process</span><span class="o">.</span><span class="n">poll</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.safely_remove_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">safely_remove_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Remove a file if it exists at the given path</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path of the file to remove</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">safely_remove_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Remove a file if it exists at the given path</span>
<span class="sd">    Args:</span>
<span class="sd">        path: The path of the file to remove</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.set_ownership_of_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_ownership_of_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;dynamite&#39;</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;dynamite&#39;</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Set the ownership of a file given a user/group and a path</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the user</p></td>
        <td><code>&#39;dynamite&#39;</code></td>
      </tr>
      <tr>
        <td><code>group</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The group of the user</p></td>
        <td><code>&#39;dynamite&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_ownership_of_file</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;dynamite&#39;</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;dynamite&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set the ownership of a file given a user/group and a path</span>
<span class="sd">    Args:</span>
<span class="sd">        path: The path to the file</span>
<span class="sd">        user: The name of the user</span>
<span class="sd">        group: The group of the user</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">uid</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwnam</span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">pw_uid</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">grp</span><span class="o">.</span><span class="n">getgrnam</span><span class="p">(</span><span class="n">group</span><span class="p">)</span><span class="o">.</span><span class="n">gr_gid</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">momo</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">momo</span><span class="p">),</span> <span class="n">uid</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">momo</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">momo</span> <span class="o">==</span> <span class="s1">&#39;environment&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">momo</span><span class="p">),</span> <span class="n">uid</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.set_permissions_of_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_permissions_of_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">unix_permissions_integer</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Set the permissions of a file to unix_permissions_integer</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>unix_permissions_integer</code></td>
        <td><code>Union[str, int]</code></td>
        <td><p>The numeric representation of user/group/everyone permissions on a file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_permissions_of_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">unix_permissions_integer</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set the permissions of a file to unix_permissions_integer</span>
<span class="sd">    Args:</span>
<span class="sd">        file_path: The path to the file</span>
<span class="sd">        unix_permissions_integer: The numeric representation of user/group/everyone permissions on a file</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;chmod -R </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">unix_permissions_integer</span><span class="p">,</span> <span class="n">file_path</span><span class="p">),</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.test_bpf_filter" class="doc doc-heading">
<code class="highlight language-python"><span class="n">test_bpf_filter</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">include_message</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Given a BPF expression determine if it is valid, and optionally return a message if not</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>expr</code></td>
        <td><code>str</code></td>
        <td><p>A valid Berkeley Packet Filter</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>include_message</code></td>
        <td><code>bool</code></td>
        <td><p>If True, Include an error message if expression is not valid.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[bool, Tuple[bool, str]]</code></td>
      <td><p>The result and optional result message</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_bpf_filter</span><span class="p">(</span><span class="n">expr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">include_message</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Given a BPF expression determine if it is valid, and optionally return a message if not</span>
<span class="sd">    Args:</span>
<span class="sd">        expr: A valid Berkeley Packet Filter</span>
<span class="sd">        include_message: If True, Include an error message if expression is not valid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The result and optional result message</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bin_path</span> <span class="o">=</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">resource_filename</span><span class="p">(</span><span class="s1">&#39;dynamite_nsm&#39;</span><span class="p">,</span> <span class="s1">&#39;bin/bpf_validate&#39;</span><span class="p">)</span>
    <span class="n">set_permissions_of_file</span><span class="p">(</span><span class="n">bin_path</span><span class="p">,</span> <span class="s1">&#39;+x&#39;</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">bin_path</span><span class="p">]</span> <span class="o">+</span> <span class="n">expr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">),</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
    <span class="n">output</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
    <span class="n">serialized_values</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">include_message</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">serialized_values</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">serialized_values</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">],</span> <span class="n">serialized_values</span><span class="p">[</span><span class="s1">&#39;msg&#39;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.update_sysctl" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_sysctl</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Updates the vm.max_map_count and fs.file-max count</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>verbose</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Include output from system utilities</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_sysctl</span><span class="p">(</span><span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Updates the vm.max_map_count and fs.file-max count</span>
<span class="sd">    Args:</span>
<span class="sd">        verbose: Include output from system utilities</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">new_output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">vm_found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">fs_found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/etc/sysctl.conf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;vm.max_map_count&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;vm.max_map_count=262144</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">vm_found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;fs.file-max&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;fs.file-max=65535</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">fs_found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_output</span> <span class="o">+=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">vm_found</span><span class="p">:</span>
        <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;vm.max_map_count=262144</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fs_found</span><span class="p">:</span>
        <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;fs.file-max=65535</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/etc/sysctl.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">new_output</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -w vm.max_map_count=262144&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -w fs.file-max=65535&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -p&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -w vm.max_map_count=262144&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -w fs.file-max=65535&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;sysctl -p&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.update_user_file_handle_limits" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_user_file_handle_limits</span><span class="p">()</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Updates the max number of file handles the dynamite user can have open</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_user_file_handle_limits</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Updates the max number of file handles the dynamite user can have open</span>
<span class="sd">    Args:</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">limit_found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/etc/security/limits.conf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;dynamite&#39;</span><span class="p">):</span>
            <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;dynamite    -   nofile   65535&#39;</span>
            <span class="n">limit_found</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_output</span> <span class="o">+=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">limit_found</span><span class="p">:</span>
        <span class="n">new_output</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">dynamite    -   nofile   65535</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/etc/security/limits.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">new_output</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="dynamite_nsm.utilities.wrap_text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wrap_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span></code>


</h2>

    <div class="doc doc-contents ">

      <p>Given a string adds newlines based on the current size of the terminal window (if one is found)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>s</code></td>
        <td><code>str</code></td>
        <td><p>A string</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A new line delaminated string</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>dynamite_nsm/utilities.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrap_text</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Given a string adds newlines based on the current size of the terminal window (if one is found)</span>
<span class="sd">    Args:</span>
<span class="sd">        s: A string</span>
<span class="sd">    Returns:</span>
<span class="sd">         A new line delaminated string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="n">term_dim</span> <span class="o">=</span> <span class="n">get_terminal_size</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">term_dim</span><span class="p">:</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">90</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">term_dim</span>
    <span class="n">wrapped_s</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">w</span> <span class="o">-</span> <span class="mi">40</span><span class="p">,</span> <span class="n">fix_sentence_endings</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">wrapped_s</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>